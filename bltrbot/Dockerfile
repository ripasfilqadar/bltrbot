FROM gcr.io/google-appengine/golang
COPY . /go/src/github.com/ripasfilqadar/bltrbot/bltrbot/
COPY . /go/src/app
ARG MYSQL_DATABASE_PORT
ARG MYSQL_DATABASE_NAME
ARG MYSQL_DATABASE_USER
ARG MYSQL_DATABASE_PASSWORD
ARG MYSQL_DATABASE_HOST
ARG MONGO_DATABASE_NAME
ARG MONGO_DATABASE_PORT
ARG MONGO_DATABASE_HOST
ARG TELEGRAM_TOKEN=${TELEGRAM_TOKEN}

ENV MYSQL_DATABASE_PORT $MYSQL_DATABASE_PORT
ENV MYSQL_DATABASE_NAME $MYSQL_DATABASE_NAME
ENV MYSQL_DATABASE_USER $MYSQL_DATABASE_USER
ENV MYSQL_DATABASE_PASSWORD $MYSQL_DATABASE_PASSWORD
ENV MYSQL_DATABASE_HOST $MYSQL_DATABASE_HOST
ENV MONGO_DATABASE_NAME $MONGO_DATABASE_NAME
ENV MONGO_DATABASE_HOST $MONGO_DATABASE_HOST
ENV TELEGRAM_TOKEN $TELEGRAM_TOKEN
RUN go-wrapper install

